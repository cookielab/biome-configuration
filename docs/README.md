**@cookielab.io/biome-config**

***

# Cookielab's Biome Configuration

This package contains [Biome](https://biomejs.dev) configuration for our code style.

The code style aims to be as strict and defensive as possible to avoid bugs & unwanted side-effects and to improve code readability.

## Installation

First add the package as development dependency.

```fish
pnpm add -D -E @cookielab.io/biome-config
```

```fish
yarn add -D -E @cookielab.io/biome-config
```

```fish
npm install -D -E @cookielab.io/biome-config
```

Then extend your Biome configuration with the appropriate configuration:

```json
{
  "extends": ["@cookielab.io/biome-config/dist/base.json"]
}
```

## Available Configurations

The following configurations are available. You can click through to their respective documentation for more details.

| Name     | Import                                          | Description                                                                                                 |
| -------- | ----------------------------------------------- | ----------------------------------------------------------------------------------------------------------- |
| Base     | `@cookielab.io/biome-config/dist/base.json`     | The base configuration that all rulesets extend from. All specific rules (React, Node, etc.) are disabled.  |
| Frontend | `@cookielab.io/biome-config/dist/frontend.json` | Extends from Base and has all the frontend-related rules added. Mostly accessibility and CSS-related rules. |
| React    | `@cookielab.io/biome-config/dist/react.json`    | Extends from Frontend. Adds all the React-related rules.                                                    |
| Next     | `@cookielab.io/biome-config/dist/next.json`     | Extends from React. Adds all the Next.js-related rules.                                                     |
| GraphQL  | `@cookielab.io/biome-config/dist/graphql.json`  | Extends from Base. Adds all the GraphQL-related rules.                                                      |
| Node     | `@cookielab.io/biome-config/dist/node.json`     | Extends from Base. Adds all the Node-related rules.                                                         |

In addition to the rulesets above, a top-level configuration is included. See [the documentation](_media/README.md) for more information.

## Development

The project uses autogenerated [Zod](https://zod.dev/) schemas from the included Biome JSON Schema. However, the conversion has to go through two convertors as the direct ones don't really work. First, the schema is converted into TypeScript types and then to Zod. See `script/generateSchema.ts`. To generate the schema after a Biome update, simply run:

```fish
pnpm generate
```

The project is linted with the output configuration. To lint it, just build the project and then run Biome:

```fish
pnpm build
pnpm lint
```

Finally, to generate the documentation, simply run

```fish
pnpm doc
```
